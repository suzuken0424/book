### 特集 1 基礎から学ぶネットワーク冗長化

#### part1

- spof ＝ 単一障害点
  - 冗長化には spof をどうなくすかが重要
  - 冗長化にはアクティブ/アクティブ構成とアクティブ/スタンバイ構成の 2 つの構成がある
  - アクティブ/アクティブ構成の方が投資効果は高いが、運用や導入コストが高い
- 構成
  - アクティブ/アクティブ構成 or アクティブ/スタンバイ構成
- スタンバイ方式

  - ホットスタンバイ or コールドスタンバイ

#### part2

- stp
  ループになる構成にしたとしても、LAN の特定ポートの通信を止めることでループになるのを避けることができる技術
- stp の用語
  - パスコスト = LAN スイッチ間の距離を示す数値
  - ルートパスコスト = ルートブリッジまでの合計
- stp でブロッキングポートが設定されるまでの流れ

  1. パスコスト、ルートパスコストを設定
  2. それに基づき各機器に指定ポートとルートポートを設定
     - ルートポートはコストが小さい方がなる
     - 同じ場合は id が小さい方
  3. 最終的にどのポートにもならなかったポートがブロックされる

#### part3

- stp は設定ミスや障害時の切り替えに問題があり、あまり利用されていない
  代わりに以下のものが利用される

  - リングプロトコル
    - 定期的に hello メッセージを送信し、返ってこなければブロックしていたポートを開き、迂回路を有効化する
  - リングアグリゲーション（これが最も使われている)
    - 複数の回線を 1 本の回線として扱う。もし１本に障害が起こっても、残りの回線で接続をする。
  - LAN スイッチの冗長化

    - スタック = 複数台の lan スイッチを束ねる技術
    - リングアグリゲーションとスタックを組み合わせることで、リンクとスイッチの両方を冗長化できる

#### part4

- VRRP

  - デフォルトゲートウェイを冗長化する技術
  - 仮想 mac アドレスと仮想 ip アドレスをマスターに設定し、LAN 内の pc に仮装 ip アドレスを設定
  - これによりマスターに障害時が発生際にバックアップに切り替える際も、LAN 内の設定を変える必要がなくなる
  - VRRP ではループになる恐れがあるので、stp で防ぐ

#### part5

- アクセスの振り分け

  - DNS を使う
    - ラウンドロビン機能で 1 つのホスト名に複数の ip アドレスを登録しておくと、dns サーバが登録順に ip アドレスを返すので、サーバーへのアクセスを振り分けることができる
    - 設定するだけなので簡単、しかし障害が発生したサーバーにも振り分けてしまうのが欠点
  - 負荷分散装置を使う
    - 振り分け方も複数あり、ラウンドロビン、重み付けラウンドロビン、サーバーに重みをつけて振り分ける、処理している tcp コネクションな最も少ないサーバーに振り分ける(最小コネクション)、通信しているクライアント数が最も少ないサーバーに振り分ける(最小クライアント)などがある

#### 特集 1 の感想

- 冗長化の仕組みややり方を知ることができとても勉強になった。
- サービスを止めてしまうことが一番顧客離れにつながってしまうため、特に意識しておく必要があると思った。

### 特集 2 メールは危ない

#### part1

- 調査によると約 3 割は暗号化されていない
- 特にメールサーバー間が危ない
- smtp.pop.imap と標準で使われているものは暗号化機能がなく、仕組みを導入する必要がある web クライアントを使ったメール送信ではブラウザを使うので、サーバーとブラウザ間の通信は https で暗号化される
- そのため特にメールサーバー間が穴になりやすい
- 解決するにはメールサーバ間を tls で暗号化するのが良い
- 選択肢として starttls と smtps がある
- starttls
  - 相手が tls に対応しているかを確認して、対応していれば smtp を暗号化して、通信を行う。もし対応していなければ暗号化せずに通信する
- smtps

  - 相手が対応していなければ、通信をしない
  - starttls の方が到達性が良いので、ほとんどそちらが使われている

- 受信側での対策

  - mta-sts
    - 受信側が送信側に tls 通信に強制
  - tls でなければ通信ができない

#### part2

- チャットアプリなどがメールの代替としてあるが、同じサービスを利用していなければやり取りできない
- またメールアドレスがインターネットにおける ID としての役割もあり、なかなか代替になりえない
- S/MIME はメール自体を暗号化でき、盗聴の対策になるが、導入や運用にコストがかかる点とメール自体を暗号化するためウィルスチェックもできない点がネックとなっている

#### 特集 2 の感想

- メールは受信側と送信側の両方が対策する必要があるので、なかなか難しいものがあるのだとわかった。
- 全体的にセキュリティレベルを上げる、もしくは個人での対策が可能になる方法を開発する必要があると思った。

### 特別レポート 多要素認証を破るプロンプト爆撃の罠

- 多要素認証

  - 知識情報、所持情報、生体情報
  - 主に所持情報で多要素認証を導入している

- プロンプト爆撃
  - プッシュ通知を利用
  - プッシュ通知は承認ボタンを押すだけなので、夜中などに連続して通知し、誤っておさせる自分がログインをしていないのにプッシュ通知がくるということは id とパスワードが盗まれていることなのですぐにパスワードを変える

#### 特別レポート感想

- とても単純なことなのだがプッシュ通知が何なのか理解していなければ簡単に引っかかってしまう攻撃だと思った。
- 自分の夜中に寝ぼけている時に引っかかるかもしれないので、気を付ける必要がある。
